\usepackage{geometry}

\usepackage{amsthm}
\usepackage{amsmath,mathtools}
\usepackage{amssymb}
\usepackage{mathrsfs}

\usepackage{enumitem}

\usepackage{hyperref}

\usepackage{tikz}
\usepackage{pgfplots}

\usepackage{float}

\usepackage{multirow}

\theoremstyle{plain}
\newtheorem*{definition}{定义}
\newtheorem*{axiom}{公理}
\newtheorem*{proposition}{命题}
\newtheorem*{theorem}{定理}
\newtheorem*{corollary}{推论}

\theoremstyle{definition}
\newtheorem*{remark}{注}
\newtheorem*{example}{例}

\newcounter{problem}[chapter]
\newenvironment{problem}[1][]{
    \refstepcounter{problem}
    \noindent\textbf{\theproblem.\hspace{1em}#1}
    % \par\bigskip
}{}

\newenvironment{proof*}{\begin{proof}[\textbf{\emph{证明.}}]}{\end{proof}}
\newenvironment{solution}{\begin{proof}[\textbf{\emph{解.}}]}{\end{proof}}

\newlist{enumerate_bf_alph}{enumerate}{1}
\setlist[enumerate_bf_alph]{label=\textbf{\alph*.}}

\newlist{enumerate_bf_arabic}{enumerate}{1}
\setlist[enumerate_bf_arabic]{label=\textbf{\arabic*}}

\SetEnumitemKey{question}{label=\textbf{\alph*.}}

\newcommand{\rmd}{\mathrm d}
\newcommand{\bbE}{\mathbb E}
\newcommand{\bbP}{\mathbb P}
\newcommand{\calP}{\mathcal P}
\newcommand{\bbR}{\mathbb R}

%====================================
% ElegantBook 风格封面，重写 maketitle
%====================================
% 需要的宏包
\usepackage{hyperref}
\usepackage{geometry}
\usepackage{tikz}
\usetikzlibrary{calc}

% 颜色
\definecolor{structurecolor}{RGB}{60,113,183}
\definecolor{main}{RGB}{0,166,82}
\definecolor{second}{RGB}{255,134,24}
\definecolor{third}{RGB}{0,174,247}
\colorlet{coverlinecolor}{second}
\definecolor{darkgray}{gray}{0.30}

% 中文字体
\ifcsname heiti\endcsname
    \newcommand{\cbfseries}{\heiti}
\else
    \newcommand{\cbfseries}{\bfseries}
\fi
\ifcsname kaishu\endcsname
    \newcommand{\citshape}{\kaishu}
    \newcommand{\cnormal}{\kaishu}
\else
    \newcommand{\citshape}{\itshape}
    \newcommand{\cnormal}{\normalfont}
\fi

% 标签文字
\newcommand{\authorname}{\citshape 作者：}
\newcommand{\institutename}{\citshape 组织：}
\newcommand{\datename}{\citshape 时间：}
\newcommand{\versionname}{\citshape 版本：}

\makeatletter

% 对外接口命令
\newcommand{\subtitle}[1]{\gdef\@subtitle{#1}}
\newcommand{\institute}[1]{\gdef\@institute{#1}}
\newcommand{\logo}[1]{\gdef\@logo{#1}}
\newcommand{\cover}[1]{\gdef\@cover{#1}}
\newcommand{\extrainfo}[1]{\gdef\@extrainfo{#1}}
\newcommand{\version}[1]{\gdef\@version{#1}}
\newcommand\bioinfo[2]{\gdef\@bioinfo{{\citshape #1}：#2}}

% 重写 maketitle
\renewcommand{\maketitle}{
    \hypersetup{pageanchor=false}
    % \pagenumbering{Alph}
    \begin{titlepage}
        \newgeometry{margin=0in}
        \parindent=0pt

        % 顶部封面图
        \ifcsname @cover\endcsname
            \includegraphics[width=\linewidth]{\@cover}
        \else
            \@empty
        \fi

        % 彩色横条
        % \setlength{\fboxsep}{0pt}
        % \colorbox{coverlinecolor}{\makebox[\linewidth][c]{\shortstack[c]{\vspace{0.5in}}}}

        % 标题
        \vfill
        \vskip 15ex % \vskip-2ex
        \hspace{2em}
        \parbox{0.8\textwidth}{
            \bfseries\Huge
            \ifcsname @title\endcsname \cnormal\@title \fi
            \par
        }

        % 副标题 + 信息
        \vfill
        % \vspace{-1.0cm}
        \hspace{2.5em}
        \begin{minipage}[c]{0.67\linewidth}
            \color{darkgray}
            {\bfseries\Large
            \ifcsname @subtitle\endcsname \cnormal\@subtitle\\[2ex] \fi}
            \color{gray}
            % \normalsize
            {\renewcommand{\arraystretch}{1.2}
            \begin{tabular}{l}
                % \ifcsname @author\endcsname \authorname \@author\\ \fi
                \ifx\@author\empty\else \authorname\cnormal\@author\\ \fi
                \ifcsname @institute\endcsname \institutename\cnormal\@institute\\ \fi
                % \ifcsname @date\endcsname \@date\\ \fi
                \ifx\@date\empty\else \datename\cnormal\@date\\ \fi
                \ifcsname @version\endcsname \versionname\cnormal\@version\\ \fi
                \ifcsname @bioinfo\endcsname \cnormal\@bioinfo\\ \fi
            \end{tabular}}
        \end{minipage}

        % 右下角 logo
        \begin{minipage}[c]{0.27\linewidth}
            \begin{tikzpicture}[remember picture,overlay]
                \node[opacity=0.8,
                    anchor=south east,
                    outer sep=0pt,
                    inner sep=0pt] at
                    ($(current page.south east)+(-0.8in,1.5in)$)
                    {\ifcsname @logo\endcsname \includegraphics[width=4.2cm]{\@logo} \fi};
            \end{tikzpicture}
        \end{minipage}

        % 底部说明文字
        \vfill
        \begin{center}
            \parbox[t]{0.7\textwidth}{\centering\citshape
                \ifcsname @extrainfo\endcsname \@extrainfo \fi
            }
        \end{center}
        \vfill
    \end{titlepage}
    \restoregeometry
    \thispagestyle{empty}
}

\makeatother